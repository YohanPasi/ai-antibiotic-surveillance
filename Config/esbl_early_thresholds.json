{
    "thresholds": {
        "low": 0.15000000000000002,
        "high": 0.9000000000000001
    },
    "selection_rationale": {
        "low": "Maximized NPV under constraint of rule-out rate > 0",
        "high": "Selected for higher Specificity/PPV to identify likely positives",
        "note": "Thresholds are fixed post-hoc decision parameters and are not learned by the model."
    },
    "risk_group_definitions": {
        "Low": "Probability < 0.15000000000000002",
        "Moderate": "0.15000000000000002 <= Probability < 0.9000000000000001",
        "High": "Probability >= 0.9000000000000001"
    },
    "clinical_statement": "This risk stratification supports empiric decision-making only and does not replace AST-based confirmation.",
    "performance_by_stratum": {
        "low_risk": {
            "range": "< 0.15000000000000002",
            "count": 12,
            "pct_cohort": 0.005,
            "esbl_prevalence": 0.75,
            "npv_of_stratum": 0.25
        },
        "moderate_risk": {
            "range": "0.15000000000000002 - 0.9000000000000001",
            "count": 2093,
            "pct_cohort": 0.8720833333333333,
            "esbl_prevalence": 0.8714763497372193
        },
        "high_risk": {
            "range": ">= 0.9000000000000001",
            "count": 295,
            "pct_cohort": 0.12291666666666666,
            "esbl_prevalence": 0.8847457627118644,
            "ppv_of_stratum": 0.8847457627118644
        }
    },
    "validation_sweep_summary": [
        {
            "threshold": 0.05,
            "tp": 2094,
            "fp": 306,
            "fn": 0,
            "tn": 0,
            "npv": 0.0,
            "sensitivity": 1.0,
            "specificity": 0.0,
            "ppv": 0.8725,
            "fn_rate": 0.0,
            "pos_rate": 1.0
        },
        {
            "threshold": 0.1,
            "tp": 2092,
            "fp": 306,
            "fn": 2,
            "tn": 0,
            "npv": 0.0,
            "sensitivity": 0.9990448901623686,
            "specificity": 0.0,
            "ppv": 0.872393661384487,
            "fn_rate": 0.0009551098376313276,
            "pos_rate": 0.9991666666666666
        },
        {
            "threshold": 0.15000000000000002,
            "tp": 2085,
            "fp": 303,
            "fn": 9,
            "tn": 3,
            "npv": 0.25,
            "sensitivity": 0.995702005730659,
            "specificity": 0.00980392156862745,
            "ppv": 0.8731155778894473,
            "fn_rate": 0.004297994269340974,
            "pos_rate": 0.995
        },
        {
            "threshold": 0.2,
            "tp": 2070,
            "fp": 299,
            "fn": 24,
            "tn": 7,
            "npv": 0.22580645161290322,
            "sensitivity": 0.9885386819484241,
            "specificity": 0.02287581699346405,
            "ppv": 0.8737864077669902,
            "fn_rate": 0.011461318051575931,
            "pos_rate": 0.9870833333333333
        },
        {
            "threshold": 0.25,
            "tp": 2048,
            "fp": 297,
            "fn": 46,
            "tn": 9,
            "npv": 0.16363636363636364,
            "sensitivity": 0.9780324737344794,
            "specificity": 0.029411764705882353,
            "ppv": 0.8733475479744136,
            "fn_rate": 0.021967526265520534,
            "pos_rate": 0.9770833333333333
        },
        {
            "threshold": 0.3,
            "tp": 2019,
            "fp": 292,
            "fn": 75,
            "tn": 14,
            "npv": 0.15730337078651685,
            "sensitivity": 0.9641833810888252,
            "specificity": 0.0457516339869281,
            "ppv": 0.8736477715274773,
            "fn_rate": 0.03581661891117478,
            "pos_rate": 0.9629166666666666
        },
        {
            "threshold": 0.35000000000000003,
            "tp": 1958,
            "fp": 288,
            "fn": 136,
            "tn": 18,
            "npv": 0.11688311688311688,
            "sensitivity": 0.9350525310410697,
            "specificity": 0.058823529411764705,
            "ppv": 0.8717720391807658,
            "fn_rate": 0.06494746895893028,
            "pos_rate": 0.9358333333333333
        },
        {
            "threshold": 0.4,
            "tp": 1880,
            "fp": 280,
            "fn": 214,
            "tn": 26,
            "npv": 0.10833333333333334,
            "sensitivity": 0.897803247373448,
            "specificity": 0.08496732026143791,
            "ppv": 0.8703703703703703,
            "fn_rate": 0.10219675262655205,
            "pos_rate": 0.9
        },
        {
            "threshold": 0.45,
            "tp": 1793,
            "fp": 259,
            "fn": 301,
            "tn": 47,
            "npv": 0.13505747126436782,
            "sensitivity": 0.8562559694364852,
            "specificity": 0.15359477124183007,
            "ppv": 0.8737816764132553,
            "fn_rate": 0.1437440305635148,
            "pos_rate": 0.855
        },
        {
            "threshold": 0.5,
            "tp": 1699,
            "fp": 243,
            "fn": 395,
            "tn": 63,
            "npv": 0.13755458515283842,
            "sensitivity": 0.8113658070678128,
            "specificity": 0.20588235294117646,
            "ppv": 0.8748712667353244,
            "fn_rate": 0.1886341929321872,
            "pos_rate": 0.8091666666666667
        },
        {
            "threshold": 0.55,
            "tp": 1597,
            "fp": 229,
            "fn": 497,
            "tn": 77,
            "npv": 0.13414634146341464,
            "sensitivity": 0.7626552053486151,
            "specificity": 0.25163398692810457,
            "ppv": 0.8745892661555312,
            "fn_rate": 0.23734479465138492,
            "pos_rate": 0.7608333333333334
        },
        {
            "threshold": 0.6000000000000001,
            "tp": 1459,
            "fp": 207,
            "fn": 635,
            "tn": 99,
            "npv": 0.13487738419618528,
            "sensitivity": 0.6967526265520535,
            "specificity": 0.3235294117647059,
            "ppv": 0.8757503001200481,
            "fn_rate": 0.3032473734479465,
            "pos_rate": 0.6941666666666667
        },
        {
            "threshold": 0.6500000000000001,
            "tp": 1286,
            "fp": 191,
            "fn": 808,
            "tn": 115,
            "npv": 0.12459371614301191,
            "sensitivity": 0.6141356255969437,
            "specificity": 0.3758169934640523,
            "ppv": 0.8706838185511171,
            "fn_rate": 0.3858643744030564,
            "pos_rate": 0.6154166666666666
        },
        {
            "threshold": 0.7000000000000001,
            "tp": 1088,
            "fp": 163,
            "fn": 1006,
            "tn": 143,
            "npv": 0.12445604873803308,
            "sensitivity": 0.5195797516714422,
            "specificity": 0.4673202614379085,
            "ppv": 0.8697042366107114,
            "fn_rate": 0.4804202483285578,
            "pos_rate": 0.52125
        },
        {
            "threshold": 0.7500000000000001,
            "tp": 892,
            "fp": 127,
            "fn": 1202,
            "tn": 179,
            "npv": 0.12961622013034033,
            "sensitivity": 0.4259789875835721,
            "specificity": 0.5849673202614379,
            "ppv": 0.8753680078508341,
            "fn_rate": 0.5740210124164279,
            "pos_rate": 0.4245833333333333
        },
        {
            "threshold": 0.8,
            "tp": 694,
            "fp": 84,
            "fn": 1400,
            "tn": 222,
            "npv": 0.13686806411837238,
            "sensitivity": 0.3314231136580707,
            "specificity": 0.7254901960784313,
            "ppv": 0.8920308483290489,
            "fn_rate": 0.6685768863419294,
            "pos_rate": 0.32416666666666666
        },
        {
            "threshold": 0.8500000000000001,
            "tp": 461,
            "fp": 59,
            "fn": 1633,
            "tn": 247,
            "npv": 0.13138297872340426,
            "sensitivity": 0.22015281757402103,
            "specificity": 0.8071895424836601,
            "ppv": 0.8865384615384615,
            "fn_rate": 0.779847182425979,
            "pos_rate": 0.21666666666666667
        },
        {
            "threshold": 0.9000000000000001,
            "tp": 261,
            "fp": 34,
            "fn": 1833,
            "tn": 272,
            "npv": 0.12921615201900238,
            "sensitivity": 0.12464183381088825,
            "specificity": 0.8888888888888888,
            "ppv": 0.8847457627118644,
            "fn_rate": 0.8753581661891118,
            "pos_rate": 0.12291666666666666
        },
        {
            "threshold": 0.9500000000000001,
            "tp": 67,
            "fp": 10,
            "fn": 2027,
            "tn": 296,
            "npv": 0.1274214377959535,
            "sensitivity": 0.03199617956064948,
            "specificity": 0.9673202614379085,
            "ppv": 0.8701298701298701,
            "fn_rate": 0.9680038204393505,
            "pos_rate": 0.03208333333333333
        }
    ]
}